<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>移动端下拉刷新</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>
<body>
    <div id="app" style="width: 100%;height: 200px;background-color: yellow">
        
    </div>
    <script type="module">
        import DropDownRefresh from './myDropDownRefresh.js';

        function f1(){
            let ddr = new DropDownRefresh({
                //下拉刷新控件绑定的元素，将在此元素的上方添加刷新控件，并通过监听此元素的下拉事件
                el: 'app',  
                //下拉加载时显示的文字
                loadingTxt: '正在拼命加载中 ...',  
                //下拉控件的高度，宽度默认为父元素的100%
                height: 150,  
                //下拉执行的刷新操作，通过返回一个promise实例进行异步操作
                loadingCallBack: function () {  
                    return new Promise(function (resolve, reject) {
                        setTimeout(function () {
                            console.log('我是自定义的回调');
                            resolve();
                        }, 3000)
                    }).then(function () {
                        console.log('外面也完成了哦');
                    }, function () {

                    });
                }
            });
        }
        f1();
    
    </script>
</body>
</html>